Fader pueda tocar notas poly
NOANFFUNC que admita rangos negativos
  Por defecto al cambiar de escala, escoger acordes de 3 Notas
  Al elegir una escala, el menú de acordes limitar a No Chords, Major, Major 7th
  Crear Voicings con 2ª y 3ª abiertas hacia arriba
  Poner la opción macro en menu de bloque
  Función nota base de la escala (offset)
Definir acordes de dos Notas
  Salvar datos de acordes y escala

  Hacer pruebas en CVThing
  Mostrar valor actual al entrar en menu selección texto


TODO New use Save defaults values to save EEPROM space
TODO Assign function to analog port to change parameters in other ports
    (version 1) change 1 destination
    (version 2) change several destinations

TODO Include in documentation:
Modification in   ResponsiveAnalogRead.h  
Change line 75 to initialize smoothValue parameter:
    float smoothValue=0.;


Scale Type
Default scale in general options
Anag Function to select default scale. When changing, affects all selected.

Chord:
Default chord
Chord Type
Chord inversion
Anag Function to change Chord Type or chord inversion

In \Arduino\libraries\ResponsiveAnalogRead\src\ResponsiveAnalogRead.h
Line 75: float smoothValue=0.;


1. Modify boards.txt in folder <Arduino folder>/hardware/teensy/avr
Add at line 871 aprox.
teensy31.menu.usb.serialmidi2=Serial + MIDI2
teensy31.menu.usb.serialmidi2.build.usbtype=USB_MIDI_SERIAL2

In usb_desc.h in folder <Arduino folder>\hardware\teensy\avr\cores\teensy3 add new configuration (after aprox. line 540)

#elif defined(USB_MIDI_SERIAL2)
  #define VENDOR_ID		0x16C0
    #define PRODUCT_ID		0x0389
  #define MANUFACTURER_NAME	{'T','e','e','n','s','y','d','u','i','n','o'}
  #define MANUFACTURER_NAME_LEN	11
  #define PRODUCT_NAME		{'T','e','e','n','s','y',' ','M','I','D','I'}
  #define PRODUCT_NAME_LEN	11
  #define EP0_SIZE		64
  #define NUM_ENDPOINTS         5
  #define NUM_USB_BUFFERS	30
  #define NUM_INTERFACE		3
  #define CDC_IAD_DESCRIPTOR	1
  #define CDC_STATUS_INTERFACE	0
  #define CDC_DATA_INTERFACE	1	// Serial
  #define CDC_ACM_ENDPOINT	1
  #define CDC_RX_ENDPOINT       2
  #define CDC_TX_ENDPOINT       3
  #define CDC_ACM_SIZE          16
  #define CDC_RX_SIZE           64
  #define CDC_TX_SIZE           64
  #define MIDI_INTERFACE        2	// MIDI
  #define MIDI_NUM_CABLES       1
  #define MIDI_TX_ENDPOINT      4
  #define MIDI_TX_SIZE          64
  #define MIDI_RX_ENDPOINT      5
  #define MIDI_RX_SIZE          64
  #define ENDPOINT1_CONFIG	ENDPOINT_TRANSMIT_ONLY
  #define ENDPOINT2_CONFIG	ENDPOINT_RECEIVE_ONLY
  #define ENDPOINT3_CONFIG	ENDPOINT_TRANSMIT_ONLY
  #define ENDPOINT4_CONFIG	ENDPOINT_TRANSMIT_ONLY
  #define ENDPOINT5_CONFIG	ENDPOINT_RECEIVE_ONLY


20201117

cents = 3986.313714 * log(f1/f2)

const char notesOctnames [][3]={ 
" C","C#"," D","D#"," E"," F","F#"," G","G#"," A","A#"," B"};

const double OctNotesFreq[][12]={
{16.35,17.32,18.35,19.45,20.6,21.83,23.12,24.5,25.96,27.5,29.14,30.87},
{32.7,34.65,36.71,38.89,41.2,43.65,46.25,49,51.91,55,58.27,61.74},
{65.41,69.3,73.42,77.78,82.41,87.31,92.5,98,103.83,110,116.54,123.47},
{130.81,138.59,146.83,155.56,164.81,174.61,185,196,207.65,220,233.08,246.94},
{261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88},
{523.25,554.37,587.33,622.25,659.25,698.46,739.99,783.99,830.61,880,932.33,987.77},
{1046.5,1108.73,1174.66,1244.51,1318.51,1396.91,1479.98,1567.98,1661.22,1760,1864.66,1975.53},
{2093,2217.46,2349.32,2489.02,2637.02,2793.83,2959.96,3135.96,3322.44,3520,3729.31,3951.07},
{4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13}
};

const double NotesFreq[]={
 16.35, 17.32, 18.35, 19.45, 20.60, 21.83, 23.12, 24.50, 25.96, 27.50, 29.14, 30.87,
 32.70, 34.65, 36.71, 38.89, 41.20, 43.65, 46.25, 49,00, 51.91, 55.00, 58.27, 61.74,
 65.41, 69.30, 73.42, 77.78, 82.41, 87.31, 92.50, 98.00,103.83,110.00,116.54,123.47,
130.81,138.59,146.83,155.56,164.81,174.61,185.00,196.00,207.65,220.00,233.08,246.94,
261.63,277.18,293.66,311.13,329.63,349.23,369.99,392.00,415.30,440.00,466.16,493.88,
523.25,554.37,587.33,622.25,659.25,698.46,739.99,783.99,830.61,880.00,932.33,987.77,
1046.5,1108.73,1174.66,1244.51,1318.51,1396.91,1479.98,1567.98,1661.22,1760,1864.66,1975.53,
2093,2217.46,2349.32,2489.02,2637.02,2793.83,2959.96,3135.96,3322.44,3520,3729.31,3951.07,
4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13
};

setup
  freq1.begin(22);
loop
  if (freq1.available()) {
    sum1 = sum1 + freq1.read();
    count1 = count1 + 1;
  }
  if (timeout > 500) {
    if (count1 > 0) {
      Serial.print(freq1.countToFrequency(sum1 / count1));
    } else {
      Serial.print("(no pulses)");
    }


    pines para SPI1
    pin para interrupcion MAXIM
    Data Sheet Maxim voltaje alimentación